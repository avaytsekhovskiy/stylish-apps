<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Stylish Apps</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/night.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section id="splash">
            <h1 style="color: lawngreen">Stylish Apps</h1>
            <img data-src="">
        </section>
        <section id="overview">
            <section><h2>Инструменты</h2></section>
            <section>
                <h3>AppCompat Library</h3>
            </section>
            <section>
                <h3>Resources</h3>
                <ul>
                    <li>colors.xml</li>
                    <li>drawables.xml</li>
                    <li>styles.xml
                        <span class="fragment" data-fragment-index="1" style="color: whitesmoke;">
                            / <span style="color: lightgrey;">themes.xml</span>
                        </span>
                    </li>
                    <li>attrs.xml</li>
                </ul>

                <br><br>

                <dl class="fragment medium" data-fragment-index="2">
                    <dt>Theme</dt>
                    <dd class="fragment" data-fragment-index="3">объявление/регистрация атрибутов</dd>
                    <dt>Style</dt>
                    <dd class="fragment" data-fragment-index="4">значения атрибутов</dd>
                    <dt class="fragment" data-fragment-index="5" style="color: yellow">Theme Overlay</dt>
                    <dd class="fragment" data-fragment-index="6" style="color: lightyellow">Override поднабора атрибутов основной темы</dd>
                </dl>
            </section>
            <section>
                <h3>Цветовые обозначения</h3>
                <dl>
                    <dt style="color: lightskyblue">Название атрибута</dt>
                    <dt style="color: yellow">Название ресурса</dt>
                    <dt style="color: orange">Название стиля или темы</dt>
                    <dt style="color: red">Ключевой вопрос</dt>
                </dl>
            </section>
        </section>
        <section id="style">
            <section>
                <h2>Styles</h2>
                <img data-src="src/img/buttons%20-%20default.png" width="50%" class="fragment" data-fragment-index="1">
                <p class="fragment" data-fragment-index="2"><span style="color: red">Q:</span> Как раскрасить кнопку?</p>
            </section>
            <section>
                <h3>Параметры темы</h3>
                <pre><code class="xml" data-trim contenteditable>
<item name="android:buttonStyle">?style</item>
<item name="android:borderlessButtonStyle">?style</item>
                </code></pre>
                <br>
                <div>
                    <p>значения по-умолчанию</p>
                    <ul>
                        <li style="color: orange">Widget.AppCompat.Button</li>
                        <li style="color: orange">Widget.AppCompat.Button.Borderless</li>
                    </ul>
                </div>
            </section>
            <section>
                <h3><span style="color: orange">Widget.AppCompat.Button</span></h3>
                <span class="fragment" data-fragment-index="1">&darr;</span><br>
                <span class="fragment" data-fragment-index="1" style="color: orange">Base.Widget.AppCompat.Button</span><span class="fragment" data-fragment-index="2"><br>&darr;</span><br>
                <span class="fragment" data-fragment-index="2" style="color: orange">Widget.Material.Button</span><span class="fragment" data-fragment-index="3"><br>&darr;</span><br>
                <span class="fragment" data-fragment-index="3"><span style="color: lightskyblue">background</span>: <span style="color:yellow">@drawable/btn_default_material</span></span>
                <pre class="fragment" data-fragment-index="4"><code class="xml" data-trim contenteditable>
&lt;ripple android:color="?attr/colorControlHighlight"&gt;
  &lt;item&gt;
    &lt;nine-patch
            android:src="@drawable/btn_mtrl_alpha"
            android:tint="?attr/colorButtonNormal"&gt;
    &lt;/nine-patch&gt;
  &lt;/item&gt;
&lt;/ripple&gt;
                </code></pre>
            </section>
            <section>
                <blockquote>Стили <strong>должны</strong> ссылаться на атрибуты темы</blockquote>

                <br>

                <dl>
                    <dt class="fragment" data-fragment-index="1"><span style="color: red">Q:</span> Как раскрасить кнопку?</dt>
                    <dd class="fragment" data-fragment-index="2">Изменить атрибут <i><span style="color: lightskyblue">colorButtonNormal</span></i></dd>
                </dl>
            </section>
        </section>
        <section id="theme">
            <section><h2>Theme</h2></section>
            <section>
                <h3>Основные атрибуты</h3>
                <dl class="medium">
                    <dt style="color: lightskyblue"><span style="color: lightgrey;">android:</span>windowLightStatusBar</dt>
                    <dd class="fragment" data-fragment-index="1">Цвет иконок (светлый/темный)</dd>
                    <dt style="color: lightskyblue"><span style="color: lightgrey;">android:</span>windowBackground</dt>
                    <dd class="fragment" data-fragment-index="2">Фон главного окна</dd>
                    <dt style="color: lightskyblue"><span style="color: lightgrey;">android:</span>colorBackground</dt>
                    <dd class="fragment" data-fragment-index="2">Фон всего (алерты, активити)</dd>
                    <dt style="color: lightskyblue"><span style="color: lightgrey;">android:</span>colorForeground</dt>
                    <dd class="fragment" data-fragment-index="3">?? противоположный цвет ??</dd>
                </dl>
            </section>
            <section>
                <h3>Основные атрибуты</h3>
                <img width="50%" data-src="src/img/background.png">
            </section>
            <section>
                <h4>Основные атрибуты - цвета</h4>
                <dl class="medium">
                    <dt style="color: lightskyblue">colorPrimary</dt>
                    <dd class="fragment" data-fragment-index="1">Цвет заголовков</dd>
                    <dt style="color: lightskyblue">colorPrimaryDark</dt>
                    <dd class="fragment" data-fragment-index="1">Фон status bar</dd>
                    <dt style="color: lightskyblue">colorAccent</dt>
                    <dd  class="fragment" data-fragment-index="2">Цвет интерактивных элементов<span style="color: red">*</span></dd>
                </dl>
                <br>
                <div class="fragment" data-fragment-index="3">
                    <p class="medium">*Зависимые по-умолчанию от <span style="color: lightskyblue">colorAccent</span></p>
                    <dl class="medium">
                        <dt style="color: lightskyblue">colorControlNormal</dt>
                        <dd class="fragment" data-fragment-index="4">Off</dd>
                        <dt style="color: lightskyblue">colorControlActivated</dt>
                        <dd class="fragment" data-fragment-index="4">On</dd>
                        <dt style="color: lightskyblue">colorControlHighlight</dt>
                        <dd class="fragment" data-fragment-index="5">Подсветка при нажатии <span style="color: red">(ripple!)</span></dd>
                    </dl>
                </div>
            </section>
            <section>
                <h4><span style="color: orange">colorAccent</span></h4>
                <span class="fragment fade-out" data-fragment-index="1"><span style="color: grey">N</span>, <span style="color: grey">A</span>, <span style="color: grey">H</span></span>
                <span style="display: inline-block; width: 10rem"></span>
                <span style="color: grey">N</span>, <span style="color: darkorange">A</span>, <span style="color: grey">H</span>
                <span style="display: inline-block; width: 10rem"></span>
                <span class="fragment fade-out" data-fragment-index="1"><span style="color: orange">N</span>, <span style="color: darkorange">A</span>, <span style="color: darkorange">H</span></span>
                <br>
                <video class="fragment fade-out" data-fragment-index="1" controls><source data-src="src/img/overlay%20-%20plain.mp4" type="video/mp4"/></video>
                <video controls><source data-src="src/img/overlay%20-%20regular.mp4" type="video/mp4"/></video>
                <video class="fragment fade-out" data-fragment-index="1"  controls><source data-src="src/img/overlay%20-%20colorful.mp4" type="video/mp4"/></video>
            </section>
            <section>
                <h4><span style="color: orange">colorAccent - проблемы</span></h4>
                <span style="color: grey">N</span>, <span style="color: darkorange">A</span>, <span style="color: grey">H</span>
                <br>
                <br>
                <video data-fragment-index="1" controls><source data-src="src/img/overlay%20-%20regular%20(problems).mp4" type="video/mp4"/></video>
                <span style="display: inline-block; width: 10rem"></span>
                <video data-fragment-index="1" controls><source data-src="src/img/overlay%20-%20colorful%20(problems).mp4" type="video/mp4"/></video>
            </section>
            <section>
                <h4>Основные атрибуты - текст</h4>
                <dl class="medium">
                    <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>textColorPrimary</dt>
                    <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>textColorPrimaryInverse</dt>
                    <dd class="fragment" data-fragment-index="2">Цвет заголовка <span style="color: lightskyblue; background: darkgrey">colorPrimary</span> по-умолчанию</dd>
                    <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>textColorSecondary</dt>
                    <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>textColorSecondaryInverse</dt>
                    <dd class="fragment" data-fragment-index="1">Цвет обычного текста - <span style="background: darkgrey"><span style="color: black">Ч</span>/<span style="color: white">Б</span></span> по-умолчанию</dd>
                    <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>textColorTertiary</dt>
                    <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>textColorTertiaryInverse</dt>
                    <dd class="fragment" data-fragment-index="3">Цвет хинтов - <span><span style="color: lightgrey">светло</span>-<span style="color: darkgrey">темно серый </span></span></dd>
                    <dt style="color: lightskyblue">textColorError</dt>
                    <dd class="fragment" data-fragment-index="4">Цвет ошибки - <span style="color: red">красный</span></dd>
                </dl>
            </section>
            <section>
                <h4>Основные компоненты - селекторы</h4>
                <dl class="medium">
                    <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>textColor</dt>
                    <dd class="fragment" data-fragment-index="1">read only</dd>
                    <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>editTextColor</dt>
                    <dd class="fragment" data-fragment-index="1">editable</dd>
                    <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>textColorHint</dt>
                    <dd class="fragment" data-fragment-index="1">подсказки</dd>
                    <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>textColorLink</dt>
                    <dd class="fragment" data-fragment-index="1">ссылки</dd>
                </dl>
                <br>
                <div class="fragment" data-fragment-index="2">
                    <p class="medium">редкие</p>
                    <dl class="medium">
                        <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>textColorHighlight</dt>
                        <dd class="fragment" data-fragment-index="3"><span style="background: darkorange">фон выделенного текста</span></dd>
                        <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>textColorPrimaryDisableOnly</dt>
                        <dd class="fragment" data-fragment-index="4">фон Off Switch кнопки</dd>
                    </dl>
                </div>
            </section>
            <section>
                <h4>Основные компоненты - disabled</h4>
                <dl class="medium">
                    <dt style="color: lightskyblue"><span style="color: lightgrey">android:</span>disabledAlpha</dt>
                    <dd class="fragment" data-fragment-index="1">[0; 1] прозрачность</dd>
                </dl>
                <p class="fragment medium" data-fragment-index="2"><span style="color: red">Q:</span> Безопасно ли делать элементы прозрачными?</p>
                <p class="fragment medium" data-fragment-index="3">Нет! Лучше явно определить цвет в селекторе элемента</p>

                <br>
                <br>

                <blockquote class="fragment" data-fragment-index="4">Расширение темы своими атрибутами позволит сделать ее более гибкой!</blockquote>
            </section>
        </section>
        <section id="custom">
            <section><h2>Advanced техники</h2></section>
            <section>
                <h4>Кастомные атрибуты</h4>

                <p>attrs.xml</p>
                <pre class="fragment" data-fragment-index="4"><code class="xml" data-trim contenteditable>
&lt;declare-styleable name="Base.AppTheme">
    &lt;attr name="colorPrimaryLight" format="color|reference" />
    &lt;attr name="textColorDisabledDefault" format="color|reference" />

    &lt;attr name="ohmyButtonColorNormal" format="color|reference"/>
    &lt;attr name="ohmyButtonColorDisabled" format="color|reference" />
&lt;/declare-styleable>
                </code></pre>
            </section>
            <section>
                <h4>Кастомные атрибуты</h4>

                <p class="medium">Дополнительные цвета</p>
                <dl class="medium">
                    <dt style="color: lightskyblue">colorPrimaryLight</dt>
                    <dd class="fragment" data-fragment-index="1">Инверсный PrimaryDark, почему-то его нет</dd>
                    <dt style="color: lightskyblue">textColorDisabledDefault</dt>
                    <dt style="color: lightskyblue">ohmyButtonColorNormal</dt>
                    <dt style="color: lightskyblue">ohmyButtonColorDisabled</dt>
                    <dd class="fragment" data-fragment-index="2">Ожидамое поведение disabled</dd>
                </dl>
            </section>
            <section>
                <h4>Theme overlay</h4>

                <blockquote>Theme, that overlay normal theme, overwriting relevant attributes</blockquote>

                <p class="fragment medium" data-fragment-index="1">Используется для создания Light / Dark <span class="fragment" data-fragment-index="2">(и не только)</span></p>
            </section>
            <section>
                <h4>Toolbar Theme overlay</h4>

                <pre><code class="xml small-code" data-trim contenteditable>
&lt;style name="Base.AppThemeOverlay.Toolbar" parent="ThemeOverlay.AppCompat">
    &lt;item name="android:textColorSecondary">?android:textColorPrimary&lt;/item>
    &lt;item name="android:textColorSecondaryInverse">?android:textColorPrimaryInverse&lt;/item>
    &lt;item name="android:actionMenuTextColor">?android:textColorPrimary&lt;/item>
    &lt;item name="android:icon">?android:textColorPrimary&lt;/item>
    &lt;item name="colorControlNormal">?android:textColorPrimary&lt;/item>
    &lt;item name="colorControlActivated">?android:textColorPrimary&lt;/item>
&lt;/style>

&lt;style name="Base.AppThemeOverlay.Toolbar.Light">
    &lt;item name="android:textColorPrimary">@color/black&lt;/item>
    &lt;item name="android:textColorPrimaryInverse">@color/white&lt;/item>
&lt;/style>

&lt;style name="Base.AppThemeOverlay.Toolbar.Dark">
    &lt;item name="android:textColorPrimary">@color/white&lt;/item>
    &lt;item name="android:textColorPrimaryInverse">@color/black&lt;/item>
&lt;/style>
                </code></pre>

            </section>
            <section>
                <h4>Alert Theme Overlay</h4>

                <pre><code class="xml small-code" data-trim contenteditable>
&lt;style name="Base.AppThemeOverlay.Dialog.Alert" parent="ThemeOverlay.AppCompat.Dialog.Alert">
    &lt;item name="android:textColorSecondary">?android:textColorPrimary&lt;/item>
    &lt;item name="android:textColorSecondaryInverse">?android:textColorPrimaryInverse&lt;/item>
&lt;/style>

&lt;style name="AppThemeOverlay.Dialog.Alert.Light" parent="Base.AppThemeOverlay.Dialog.Alert">
    &lt;item name="android:textColorPrimary">@color/black&lt;/item>
    &lt;item name="android:textColorPrimaryInverse">@color/white&lt;/item>
    &lt;item name="android:colorBackground">@color/white_light&lt;/item>
    &lt;item name="android:colorForeground">@color/black_light&lt;/item>
&lt;/style>

&lt;style name="AppThemeOverlay.Dialog.Alert.Dark" parent="Base.AppThemeOverlay.Dialog.Alert">
    &lt;item name="android:textColorPrimaryInverse">@color/black&lt;/item>
    &lt;item name="android:textColorPrimary">@color/white&lt;/item>
    &lt;item name="android:colorBackground">@color/black_light&lt;/item>
    &lt;item name="android:colorForeground">@color/white_light&lt;/item>
&lt;/style>
                </code></pre>
            </section>
            <section>
                <h4>Theme(in)ception</h4>

                <div>
                    <span class="fragment" data-fragment-index="1" style="color: orange">LightTheme</span><br>
                    <span class="fragment" data-fragment-index="2" style="color: orange">ToolbarDarkTheme</span><br>
                    <span class="fragment" data-fragment-index="3" style="color: orange">ToolbarPopupLightTheme</span><br>
                </div>

                <img data-src="src/img/inception%20-%20light.png" width="50%">
            </section>
            <section>
                <blockquote>Все равно слишком сложно</blockquote>
            </section>
        </section>
        <section id="ohmy">
            <section>
                <h2>Готовое решение</h2>
                <br>
                <br>
                <a href="src/ohmy-res.zip">Набор ресурсов для готовых Light/Dark тем</a>
            </section>
            <section>
                <a href="src/ohmy-res.zip">Набор ресурсов для готовых Light/Dark тем</a>

                <pre><code class="xml" data-trim contenteditable>
&lt;style name="AppTheme.Light.Green">
    &lt;item name="colorPrimaryLight">@color/green_light&lt;/item>
    &lt;item name="colorPrimary">@color/green&lt;/item>
    &lt;item name="colorPrimaryDark">@color/green_dark&lt;/item>
    &lt;item name="colorAccent">@color/red_light&lt;/item>
    &lt;item name="colorControlActivated">@color/red&lt;/item>
&lt;/style>

&lt;style name="AppTheme.Dark.Green">
    &lt;item name="colorPrimaryLight">@color/green_light&lt;/item>
    &lt;item name="colorPrimary">@color/green&lt;/item>
    &lt;item name="colorPrimaryDark">@color/green_dark&lt;/item>
    &lt;item name="colorAccent">@color/red_light&lt;/item>
    &lt;item name="colorControlActivated">@color/red&lt;/item>
&lt;/style>
                </code></pre>
            </section>
            <section>
                <a href="src/ohmy-res.zip">Набор ресурсов для готовых Light/Dark тем</a>

                <img data-src="src/img/ad%20-%20light.png" width="25%">
                <img data-src="src/img/ad%20-%20dark.png" width="25%">
            </section>
        </section>
        <section id="rules">
            <section><h2></h2></section>
            <section>
                <h3>Как настроить базовую тему</h3>
                <ul>
                    <li>Атрибуты вместо цветов</li>
                    <li>Расширить специфичными атрибутами</li>
                    <li>Настроить селекторы</li>
                </ul>
            </section>
            <section>
                <h3>Как создавать разные темы</h3>
                <ul>
                    <li>Базовую тема <span>(с кастомными атрибутами)</span></li>
                    <li>Специфичные темы (переопределить ключевое)</li>
                </ul>
            </section>
            <section>
                <h3>Как создавать стили</h3>
                <ul>
                    <li>Не смешивать стиль и верстку</li>
                    <li>Использовать наследование</li>
                </ul>
            </section>
        </section>
        <section id="links">
            <a href="src/ohmy-res.zip">Набор ресурсов для готовых Light/Dark тем</a>
            <a href="src/app-ohmy-theme-debug.apk">Example.apk</a>
            <a href="https://github.com/avaytsekhovskiy/ohmy-theme">Example Source Code</a>
            <p>Когда-нибудь опубилкуем в виде библиотеки</p>
        </section>
    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
    // More info about config & dependencies:
    // - https://github.com/hakimel/reveal.js#configuration
    // - https://github.com/hakimel/reveal.js#dependencies
    Reveal.initialize({
        dependencies: [
            {src: 'plugin/markdown/marked.js'},
            {src: 'plugin/markdown/markdown.js'},
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            }
        ]
    });
</script>
</body>
</html>
